{% extends 'default.html' %}
{% load static %}

{% block tour_detail %}
<link rel="stylesheet" href="{% static 'miniapp/css/tour_detail.css' %}">
<script src="{% static 'miniapp/js/tour_detail.js' %}" defer></script>

<div class="tour-detail-container">
    <!-- üîô –ö–Ω–æ–ø–∫–∞ –Ω–∞–∑–∞–¥ -->
    <button class="back-button" onclick="window.history.back()">&#8592;</button>

    <!-- –í–µ—Ä—Ö–Ω–∏–π –±–ª–æ–∫: –∫–∞—Ä—Ç–∏–Ω–∫–∞ –∏ –Ω–∞–∑–≤–∞–Ω–∏–µ -->
    <div class="tour-header">
        {% if tour.tour_img %}
            <img src="{{ tour.tour_img.url }}" alt="{{ tour.tour_name }}" class="tour-header-img">
        {% endif %}
        <h1 class="tour-header-title">{{ tour.tour_name }}</h1>
        <p class="tour-header-description">{{ tour.tour_description }}</p>
    </div>

    <!-- –≠–ª–µ–º–µ–Ω—Ç—ã —ç–∫—Å–∫—É—Ä—Å–∏–∏ -->
    <div class="tour-elements">
        {% for element in tour.drop_down_elements.all %}
        <div class="tour-element">
            <div class="tour-element-header" onclick="toggleElement(this)">
                {% if element.element_icon %}
                    <img src="{{ element.element_icon.url }}" alt="icon" class="tour-element-icon">
                {% else %}
                    <span class="tour-element-icon-placeholder">üìç</span>
                {% endif %}
                <span class="tour-element-title">{{ element.element_name }}</span>
                <span class="tour-element-arrow">&#9660;</span>
            </div>

            <div class="tour-element-content">
                {% if element.element_description %}
                    <p>{{ element.element_description }}</p>
                {% endif %}
                {% if element.element_img %}
                    <img src="{{ element.element_img.url }}" alt="{{ element.element_name }}" class="tour-element-img">
                {% endif %}
                {% if element.element_video %}
                    <video controls class="tour-element-video">
                        <source src="{{ element.element_video.url }}" type="video/mp4">
                        –í–∞—à –±—Ä–∞—É–∑–µ—Ä –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –≤–∏–¥–µ–æ.
                    </video>
                {% endif %}
            </div>
        </div>
        {% empty %}
            <p class="no-elements">–≠–ª–µ–º–µ–Ω—Ç–æ–≤ —ç–∫—Å–∫—É—Ä—Å–∏–∏ –ø–æ–∫–∞ –Ω–µ—Ç</p>
        {% endfor %}
    </div>
</div>
{% endblock %}
